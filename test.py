import unittest
import my_app

def test_predict(client):
    # Send a request to the API endpoint
    response = client.post('/', data={'image_data': '0,0,0,0,0,0,0,0,0,0,34,109,9,0,0,80,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,202,239,247,255,255,255,255,239,255,138,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,238,238,236,238,236,232,228,229,255,201,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,97,255,231,240,240,239,238,238,236,233,226,232,217,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,179,253,236,242,238,238,236,239,238,228,221,228,245,41,0,2,0,0,0,0,0,0,0,0,0,0,0,0,245,245,245,239,237,237,236,237,235,232,230,236,251,121,0,1,0,0,0,0,0,0,0,0,0,0,0,0,228,246,245,250,236,236,236,236,235,243,227,200,254,193,0,0,0,0,0,0,0,0,0,0,0,0,0,26,243,237,64,254,243,235,236,237,228,255,141,58,255,213,0,0,0,0,0,0,0,0,0,0,0,0,0,75,255,255,0,227,254,232,237,237,223,255,69,0,254,240,32,0,0,0,0,0,0,0,0,0,0,0,0,108,255,200,0,253,254,234,236,235,226,255,121,0,255,255,79,0,0,0,0,0,0,0,0,0,0,0,0,124,255,156,0,255,248,235,236,235,228,255,196,0,242,255,107,0,0,0,0,0,0,0,0,0,0,0,0,139,255,121,0,255,242,235,236,235,231,247,252,0,182,255,121,0,0,0,0,0,0,0,0,0,0,0,0,163,255,76,0,255,238,238,237,235,234,231,255,0,112,255,136,0,0,0,0,0,0,0,0,0,0,0,0,174,255,46,0,255,237,239,237,235,235,223,255,27,40,255,141,0,0,0,0,0,0,0,0,0,0,0,0,174,255,0,18,255,237,239,237,235,234,224,255,124,0,255,158,0,0,0,0,0,0,0,0,0,0,0,0,166,255,0,63,255,229,238,236,235,235,228,255,192,0,250,172,0,0,0,0,0,0,0,0,0,0,0,0,156,254,0,102,255,227,238,236,235,236,232,252,245,0,255,195,0,0,0,0,0,0,0,0,0,0,0,0,162,255,0,138,255,228,238,236,234,235,233,246,247,21,255,214,0,0,0,0,0,0,0,0,0,0,0,0,168,246,0,173,255,230,237,236,235,235,236,237,255,22,0,202,144,0,0,0,0,0,0,0,0,0,0,15,203,3,0,233,247,231,236,236,236,236,237,225,255,35,0,215,121,0,0,0,0,0,0,0,0,0,0,35,160,0,0,255,245,233,237,236,236,236,236,231,255,94,0,109,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,241,235,236,235,235,236,237,232,249,143,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,240,239,236,235,233,233,238,239,227,246,186,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,45,251,237,238,236,235,233,239,241,230,243,219,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,65,255,237,241,238,235,233,241,243,234,240,236,0,0,1,0,0,0,0,0,0,0,0,0,0,0,5,0,121,255,234,238,232,228,229,234,237,234,233,221,0,0,3,0,0,0,0,0,0,0,0,0,0,0,4,0,29,255,248,253,255,255,255,255,255,252,247,255,17,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,50,96,120,134,155,159,151,126,101,20,0,0,1,0,0,0,0,0'})

    # Check that the response is correct
    assert response.status_code == 200
    assert response.data.decode('utf-8') == 'Dress'

class PredictTestCase(unittest.TestCase):
    def setUp(self):
        self.app = my_app.app.test_client()

    def test_predict(self):
        test_predict(self.app)

if __name__ == '__main__':
    unittest.main()
