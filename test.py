import unittest
import my_app

def test_predict(client):
    # Send a request to the API endpoint
    response = client.post('/', data={'image_data': '0,0,0,0,0,0,0,0,0,0,95,70,0,0,0,19,130,55,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,47,227,247,251,255,170,223,255,246,250,200,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,222,255,230,235,250,229,240,236,231,233,255,166,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,225,242,237,233,238,255,246,233,237,237,250,238,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,248,239,238,236,233,236,234,234,238,239,246,237,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,104,252,243,236,241,240,236,238,239,241,245,246,251,46,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,249,244,238,239,238,239,239,237,251,225,229,255,142,0,0,0,0,0,0,0,0,0,0,0,0,0,0,209,255,212,218,243,237,238,238,234,255,174,145,255,177,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,93,64,243,244,238,239,238,235,248,223,0,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,237,238,240,240,237,242,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,9,241,237,238,239,241,239,239,243,7,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,28,248,236,239,239,240,239,238,253,44,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,75,251,235,239,239,243,240,238,255,98,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,116,254,235,239,239,244,242,236,255,152,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,137,255,235,241,239,243,241,237,255,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,166,254,236,241,240,245,239,239,254,204,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,193,252,237,241,239,248,240,239,250,203,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,211,248,237,241,238,248,240,238,247,220,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,220,247,238,241,237,250,242,238,245,229,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,226,246,238,241,237,252,243,239,245,235,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,231,246,238,241,237,252,243,236,245,237,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,201,247,238,241,237,251,243,237,244,240,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,201,247,238,243,237,250,246,238,242,245,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,189,249,238,243,237,250,245,238,242,246,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,198,253,237,243,236,249,247,239,240,247,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,61,255,239,240,236,251,247,234,254,209,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,164,255,255,245,251,252,248,237,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,66,158,214,227,208,197,19,0,0,0,0,0,0,0,0,0,0'})

    # Check that the response is correct
    assert response.status_code == 200
    assert response.data.decode('utf-8') == 'Dress'

class PredictTestCase(unittest.TestCase):
    def setUp(self):
        self.app = my_app.app.test_client()

    def test_predict(self):
        test_predict(self.app)

if __name__ == '__main__':
    unittest.main()
